import{_ as N}from"./BD7alTqf.js";import{_ as x,a as R}from"./C9DKLktn.js";import{_ as w}from"./JdeDyvUP.js";import{g as D,z as k,r as A,k as B,c as F,a as V,t as E,b as t,w as m,m as a,o as L,d as O,q}from"./BIGTx159.js";import{b as G}from"./B_SY6CCR.js";import{u as H}from"./BHWQDBbF.js";import{c as M,a as I}from"./BqjAheMm.js";import"./4eBO4NMG.js";import"./D0BGaoLT.js";const P={class:"container max-w-md mx-auto my-10"},Q={class:"mb-4 text-2xl font-bold"},z={class:"pt-4"},ae={__name:"settings",setup(C){var c,_,f,S,b;const h=G(),{t:r}=D(),U=H(),e=k(()=>JSON.parse(localStorage.getItem("user"))),d=A(!1),g=["admin","company","user"],u=M({name:I().required(r("THIS_FIELD_IS_REQUIRED")),phone:I().required(r("THIS_FIELD_IS_REQUIRED"))}),o=B({id:(c=e==null?void 0:e.value)==null?void 0:c.id,name:(_=e==null?void 0:e.value)==null?void 0:_.name,email:(f=e==null?void 0:e.value)==null?void 0:f.email,phone:(S=e==null?void 0:e.value)==null?void 0:S.phone,role:(b=e==null?void 0:e.value)==null?void 0:b.role}),v=async()=>{if(u.validateSync(o))try{d.value=!0,await h.updateProfile(o.name,o.phone,r,U)}finally{d.value=!1}};return(s,n)=>{const p=N,i=R,$=w,y=q,T=x;return L(),F("div",P,[V("h1",Q,E(s.$t("SETTINGS")),1),t(T,{schema:a(u),state:a(o),class:"space-y-4",onSubmit:v},{default:m(()=>[t(i,{label:s.$t("NAME"),name:"name"},{default:m(()=>[t(p,{modelValue:a(o).name,"onUpdate:modelValue":n[0]||(n[0]=l=>a(o).name=l),color:"indigo",icon:"i-heroicons-user"},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:s.$t("EMAIL"),name:"email"},{default:m(()=>[t(p,{modelValue:a(o).email,"onUpdate:modelValue":n[1]||(n[1]=l=>a(o).email=l),icon:"i-heroicons-envelope",disabled:""},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:s.$t("PHONE"),name:"phone"},{default:m(()=>[t(p,{modelValue:a(o).phone,"onUpdate:modelValue":n[2]||(n[2]=l=>a(o).phone=l),color:"indigo",icon:"i-heroicons-phone"},null,8,["modelValue"])]),_:1},8,["label"]),t(i,{label:s.$t("USER_ROLE"),name:"role"},{default:m(()=>[t($,{icon:"i-heroicons-users",options:g,color:"indigo",class:"w-full",modelValue:a(o).role,"onUpdate:modelValue":n[3]||(n[3]=l=>a(o).role=l),disabled:""},null,8,["modelValue"])]),_:1},8,["label"]),V("div",z,[t(y,{type:"submit",color:"indigo",loading:a(d),block:""},{default:m(()=>[O(E(s.$t("SAVE_SETTINGS")),1)]),_:1},8,["loading"])])]),_:1},8,["schema","state"])])}}};export{ae as default};
