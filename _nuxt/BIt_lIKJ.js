import{_ as ot}from"./D7TTXPIU.js";import{z as g,m as N,$ as it,D as Y,a0 as Pe,a1 as ut,r as V,I as $e,N as X,k as st,a2 as Ve,l as de,a3 as ve,F as ke,a4 as ge,a5 as Ae,R as _,a6 as rt,a7 as U,K as Fe,a8 as dt,M as re,a9 as ct,_ as vt,X as je,A as Ne,O as De,P as Re,Q as pt,aa as ft,S as mt,T as me,ab as bt,ac as ht,ad as gt,ae as yt,o as F,n as te,w as G,c as K,H as B,J as ee,af as be,V as ae,a as j,U as we,b as J,t as H,ag as Ot,x as St,ah as xt,d as se,g as It,E as ue,q as Ct}from"./vT5Awhrc.js";import{u as Rt}from"./AXwBvxvj.js";import{o as Te,u as q,a as T,w as Ue,t as He,i as oe,f as _e,E as qe,b as We,A as le,T as Se,I as ce,c as wt,N as pe,l as Ke,O as Je,d as z,e as Be,n as Mt,g as Tt,h as Et,j as $t}from"./DV7pWpkR.js";import{c as A,f as Ee,s as Ge,i as Vt,u as Qe,p as kt}from"./DqJ7uJgN.js";import{u as At}from"./DA-7slN7.js";import{u as zt}from"./T7PZxXqv.js";import{_ as Pt}from"./C5mL7YHh.js";import{_ as Dt}from"./CYEQkFry.js";import{_ as Bt}from"./Bk2210tp.js";import{_ as Lt}from"./Bc33r_Am.js";import{_ as Ft}from"./BeY6JlL5.js";import{u as jt,a as Nt}from"./B-ELNDSt.js";function he(e,s,t){let o=t.initialDeps??[],l;return()=>{var i,n,a,c;let v;t.key&&((i=t.debug)!=null&&i.call(t))&&(v=Date.now());const h=e();if(!(h.length!==o.length||h.some((C,S)=>o[S]!==C)))return l;o=h;let p;if(t.key&&((n=t.debug)!=null&&n.call(t))&&(p=Date.now()),l=s(...h),t.key&&((a=t.debug)!=null&&a.call(t))){const C=Math.round((Date.now()-v)*100)/100,S=Math.round((Date.now()-p)*100)/100,w=S/16,P=($,x)=>{for($=String($);$.length<x;)$=" "+$;return $};console.info(`%c⏱ ${P(S,5)} /${P(C,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(c=t==null?void 0:t.onChange)==null||c.call(t,l),l}}function Me(e,s){if(e===void 0)throw new Error("Unexpected undefined");return e}const Ut=(e,s)=>Math.abs(e-s)<1,Ht=(e,s,t)=>{let o;return function(...l){e.clearTimeout(o),o=e.setTimeout(()=>s.apply(this,l),t)}},_t=e=>e,qt=e=>{const s=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let l=s;l<=t;l++)o.push(l);return o},Wt=(e,s)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const l=n=>{const{width:a,height:c}=n;s({width:Math.round(a),height:Math.round(c)})};if(l(t.getBoundingClientRect()),!o.ResizeObserver)return()=>{};const i=new o.ResizeObserver(n=>{const a=n[0];if(a!=null&&a.borderBoxSize){const c=a.borderBoxSize[0];if(c){l({width:c.inlineSize,height:c.blockSize});return}}l(t.getBoundingClientRect())});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},Le={passive:!0},Kt=typeof window>"u"?!0:"onscrollend"in window,Jt=(e,s)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let l=0;const i=Kt?()=>{}:Ht(o,()=>{s(l,!1)},e.options.isScrollingResetDelay),n=v=>()=>{l=t[e.options.horizontal?"scrollLeft":"scrollTop"],i(),s(l,v)},a=n(!0),c=n(!1);return c(),t.addEventListener("scroll",a,Le),t.addEventListener("scrollend",c,Le),()=>{t.removeEventListener("scroll",a),t.removeEventListener("scrollend",c)}},Gt=(e,s,t)=>{if(s!=null&&s.borderBoxSize){const o=s.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},Qt=(e,{adjustments:s=0,behavior:t},o)=>{var l,i;const n=e+s;(i=(l=o.scrollElement)==null?void 0:l.scrollTo)==null||i.call(l,{[o.options.horizontal?"left":"top"]:n,behavior:t})};class Yt{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(l=>{l.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var l;return(l=o())==null?void 0:l.disconnect()},observe:l=>{var i;return(i=o())==null?void 0:i.observe(l,{box:"border-box"})},unobserve:l=>{var i;return(i=o())==null?void 0:i.unobserve(l)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,l])=>{typeof l>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:_t,rangeExtractor:qt,onChange:()=>{},measureElement:Gt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,...t}},this.notify=(t,o)=>{var l,i;const{startIndex:n,endIndex:a}=this.range??{startIndex:void 0,endIndex:void 0},c=this.calculateRange();(t||n!==(c==null?void 0:c.startIndex)||a!==(c==null?void 0:c.endIndex))&&((i=(l=this.options).onChange)==null||i.call(l,this,o))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null},this._didMount=()=>(this.measureElementCache.forEach(this.observer.observe),()=>{this.observer.disconnect(),this.cleanup()}),this._willUpdate=()=>{var t;const o=this.options.getScrollElement();this.scrollElement!==o&&(this.cleanup(),this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this._scrollToOffset(this.scrollOffset,{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,l=>{this.scrollRect=l,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(l,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.scrollOffset<l?"forward":"backward":null,this.scrollOffset=l;const n=this.isScrolling;this.isScrolling=i,this.notify(n!==i,i)})))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurementOptions=he(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey],(t,o,l,i)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:l,getItemKey:i}),{key:!1}),this.getFurthestMeasurement=(t,o)=>{const l=new Map,i=new Map;for(let n=o-1;n>=0;n--){const a=t[n];if(l.has(a.lane))continue;const c=i.get(a.lane);if(c==null||a.end>c.end?i.set(a.lane,a):a.end<c.end&&l.set(a.lane,!0),l.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((n,a)=>n.end===a.end?n.index-a.index:n.end-a.end)[0]:void 0},this.getMeasurements=he(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:l,getItemKey:i},n)=>{const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,a);for(let v=a;v<t;v++){const h=i(v),r=this.options.lanes===1?c[v-1]:this.getFurthestMeasurement(c,v),p=r?r.end+this.options.gap:o+l,C=n.get(h),S=typeof C=="number"?C:this.options.estimateSize(v),w=p+S,P=r?r.lane:v%this.options.lanes;c[v]={index:v,start:p,size:S,end:w,key:h,lane:P}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=he(()=>[this.getMeasurements(),this.getSize(),this.scrollOffset],(t,o,l)=>this.range=t.length>0&&o>0?Xt({measurements:t,outerSize:o,scrollOffset:l}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=he(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,o,l,i)=>o===null?[]:t({startIndex:o.startIndex,endIndex:o.endIndex,overscan:l,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,l=t.getAttribute(o);return l?parseInt(l,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const l=this.measurementsCache[this.indexFromElement(t)];if(!l||!t.isConnected){this.measureElementCache.forEach((a,c)=>{a===t&&(this.observer.unobserve(t),this.measureElementCache.delete(c))});return}const i=this.measureElementCache.get(l.key);i!==t&&(i&&this.observer.unobserve(i),this.observer.observe(t),this.measureElementCache.set(l.key,t));const n=this.options.measureElement(t,o,this);this.resizeItem(l,n)},this.resizeItem=(t,o)=>{const l=this.itemSizeCache.get(t.key)??t.size,i=o-l;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,i,this):t.start<this.scrollOffset+this.scrollAdjustments)&&this._scrollToOffset(this.scrollOffset,{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,o)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=he(()=>[this.getIndexes(),this.getMeasurements()],(t,o)=>{const l=[];for(let i=0,n=t.length;i<n;i++){const a=t[i],c=o[a];l.push(c)}return l},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();return Me(o[Ye(0,o.length-1,l=>Me(o[l]).start,t)])},this.getOffsetForAlignment=(t,o)=>{const l=this.getSize();o==="auto"&&(t<=this.scrollOffset?o="start":t>=this.scrollOffset+l?o="end":o="start"),o==="start"?t=t:o==="end"?t=t-l:o==="center"&&(t=t-l/2);const i=this.options.horizontal?"scrollWidth":"scrollHeight",a=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-this.getSize();return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const l=Me(this.getMeasurements()[t]);if(o==="auto")if(l.end>=this.scrollOffset+this.getSize()-this.options.scrollPaddingEnd)o="end";else if(l.start<=this.scrollOffset+this.options.scrollPaddingStart)o="start";else return[this.scrollOffset,o];const i=o==="end"?l.end+this.options.scrollPaddingEnd:l.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,o),o]},this.isDynamicMode=()=>this.measureElementCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:o="start",behavior:l}={})=>{this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:l})},this.scrollToIndex=(t,{align:o="auto",behavior:l}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),l==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const[i,n]=this.getOffsetForIndex(t,o);this._scrollToOffset(i,{adjustments:void 0,behavior:l}),l!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.measureElementCache.has(this.options.getItemKey(t))){const[c]=this.getOffsetForIndex(t,n);Ut(c,this.scrollOffset)||this.scrollToIndex(t,{align:n,behavior:l})}else this.scrollToIndex(t,{align:n,behavior:l})}))},this.scrollBy=(t,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.scrollOffset+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let l;return o.length===0?l=this.options.paddingStart:l=this.options.lanes===1?((t=o[o.length-1])==null?void 0:t.end)??0:Math.max(...o.slice(-this.options.lanes).map(i=>i.end)),l-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:o,behavior:l})=>{this.options.scrollToFn(t,{behavior:l,adjustments:o},this)},this.measure=()=>{var t,o;this.itemSizeCache=new Map,(o=(t=this.options).onChange)==null||o.call(t,this,!1)},this.setOptions(s),this.scrollRect=this.options.initialRect,this.scrollOffset=typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(t=>{this.itemSizeCache.set(t.key,t.size)}),this.notify(!1,!1)}}const Ye=(e,s,t,o)=>{for(;e<=s;){const l=(e+s)/2|0,i=t(l);if(i<o)e=l+1;else if(i>o)s=l-1;else return l}return e>0?e-1:0};function Xt({measurements:e,outerSize:s,scrollOffset:t}){const o=e.length-1,i=Ye(0,o,a=>e[a].start,t);let n=i;for(;n<o&&e[n].end<t+s;)n++;return{startIndex:i,endIndex:n}}function Zt(e){const s=new Yt(N(e)),t=it(s),o=s._didMount();return Y(()=>N(e).getScrollElement(),l=>{l&&s._willUpdate()},{immediate:!0}),Y(()=>N(e),l=>{s.setOptions({...l,onChange:(i,n)=>{var a;Pe(t),(a=l.onChange)==null||a.call(l,i,n)}}),s._willUpdate(),Pe(t)},{immediate:!0}),ut(o),t}function el(e){return Zt(g(()=>({observeElementRect:Wt,observeElementOffset:Jt,scrollToFn:Qt,...N(e)})))}function Xe(e,s,t){let o=V(t==null?void 0:t.value),l=g(()=>e.value!==void 0);return[g(()=>l.value?e.value:o.value),function(i){return l.value||(o.value=i),s==null?void 0:s(i)}]}function tl(){let e=Te();return $e(()=>e.dispose()),e}function ll(){let e=tl();return s=>{e.dispose(),e.nextFrame(s)}}var Ze=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Ze||{});function ze(e={},s=null,t=[]){for(let[o,l]of Object.entries(e))tt(t,et(s,o),l);return t}function et(e,s){return e?e+"["+s+"]":s}function tt(e,s,t){if(Array.isArray(t))for(let[o,l]of t.entries())tt(e,et(s,o.toString()),l);else t instanceof Date?e.push([s,t.toISOString()]):typeof t=="boolean"?e.push([s,t?"1":"0"]):typeof t=="string"?e.push([s,t]):typeof t=="number"?e.push([s,`${t}`]):t==null?e.push([s,""]):ze(t,s,e)}var nl={};function al(e,s){return e===s}var ol=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ol||{}),il=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(il||{}),ul=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(ul||{});let lt=Symbol("ComboboxContext");function fe(e){let s=Ae(lt,null);if(s===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fe),t}return s}let nt=Symbol("VirtualContext"),sl=X({name:"VirtualProvider",setup(e,{slots:s}){let t=fe("VirtualProvider"),o=g(()=>{let a=T(t.optionsRef);if(!a)return{start:0,end:0};let c=window.getComputedStyle(a);return{start:parseFloat(c.paddingBlockStart||c.paddingTop),end:parseFloat(c.paddingBlockEnd||c.paddingBottom)}}),l=el(g(()=>({scrollPaddingStart:o.value.start,scrollPaddingEnd:o.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return T(t.optionsRef)},overscan:12}))),i=g(()=>{var a;return(a=t.virtual.value)==null?void 0:a.options}),n=V(0);return Y([i],()=>{n.value+=1}),Ve(nt,t.virtual.value?l:null),()=>[ve("div",{style:{position:"relative",width:"100%",height:`${l.value.getTotalSize()}px`},ref:a=>{if(a){if(typeof process<"u"&&nl.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&l.value.scrollToIndex(t.activeOptionIndex.value)}}},l.value.getVirtualItems().map(a=>rt(s.default({option:t.virtual.value.options[a.index],open:t.comboboxState.value===0})[0],{key:`${n.value}-${a.index}`,"data-index":a.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":a.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${a.start}px)`,overflowAnchor:"none"}})))]}}),rl=X({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:s,attrs:t,emit:o}){let l=V(1),i=V(null),n=V(null),a=V(null),c=V(null),v=V({static:!1,hold:!1}),h=V([]),r=V(null),p=V(2),C=V(!1);function S(b=y=>y){let y=r.value!==null?h.value[r.value]:null,R=b(h.value.slice()),E=R.length>0&&R[0].dataRef.order.value!==null?R.sort((D,W)=>D.dataRef.order.value-W.dataRef.order.value):Je(R,D=>T(D.dataRef.domRef)),M=y?E.indexOf(y):null;return M===-1&&(M=null),{options:E,activeOptionIndex:M}}let w=g(()=>e.multiple?1:0),P=g(()=>e.nullable),[$,x]=Xe(g(()=>e.modelValue),b=>o("update:modelValue",b),g(()=>e.defaultValue)),d=g(()=>$.value===void 0?q(w.value,{1:[],0:void 0}):$.value),f=null,u=null;function O(b){return q(w.value,{0(){return x==null?void 0:x(b)},1:()=>{let y=U(m.value.value).slice(),R=U(b),E=y.findIndex(M=>m.compare(R,U(M)));return E===-1?y.push(R):y.splice(E,1),x==null?void 0:x(y)}})}let I=g(()=>{});Y([I],([b],[y])=>{if(m.virtual.value&&b&&y&&r.value!==null){let R=b.indexOf(y[r.value]);R!==-1?r.value=R:r.value=null}});let m={comboboxState:l,value:d,mode:w,compare(b,y){if(typeof e.by=="string"){let R=e.by;return(b==null?void 0:b[R])===(y==null?void 0:y[R])}return e.by===null?al(b,y):e.by(b,y)},calculateIndex(b){return m.virtual.value?e.by===null?m.virtual.value.options.indexOf(b):m.virtual.value.options.findIndex(y=>m.compare(y,b)):h.value.findIndex(y=>m.compare(y.dataRef.value,b))},defaultValue:g(()=>e.defaultValue),nullable:P,immediate:g(()=>!1),virtual:g(()=>null),inputRef:n,labelRef:i,buttonRef:a,optionsRef:c,disabled:g(()=>e.disabled),options:h,change(b){x(b)},activeOptionIndex:g(()=>{if(C.value&&r.value===null&&(m.virtual.value?m.virtual.value.options.length>0:h.value.length>0)){if(m.virtual.value){let y=m.virtual.value.options.findIndex(R=>{var E;return!((E=m.virtual.value)!=null&&E.disabled(R))});if(y!==-1)return y}let b=h.value.findIndex(y=>!y.dataRef.disabled);if(b!==-1)return b}return r.value}),activationTrigger:p,optionsPropsRef:v,closeCombobox(){C.value=!1,!e.disabled&&l.value!==1&&(l.value=1,r.value=null)},openCombobox(){if(C.value=!0,!e.disabled&&l.value!==0){if(m.value.value){let b=m.calculateIndex(m.value.value);b!==-1&&(r.value=b)}l.value=0}},setActivationTrigger(b){p.value=b},goToOption(b,y,R){C.value=!1,f!==null&&cancelAnimationFrame(f),f=requestAnimationFrame(()=>{if(e.disabled||c.value&&!v.value.static&&l.value===1)return;if(m.virtual.value){r.value=b===A.Specific?y:Ee({focus:b},{resolveItems:()=>m.virtual.value.options,resolveActiveIndex:()=>{var D,W;return(W=(D=m.activeOptionIndex.value)!=null?D:m.virtual.value.options.findIndex(ne=>{var ie;return!((ie=m.virtual.value)!=null&&ie.disabled(ne))}))!=null?W:null},resolveDisabled:D=>m.virtual.value.disabled(D),resolveId(){throw new Error("Function not implemented.")}}),p.value=R??2;return}let E=S();if(E.activeOptionIndex===null){let D=E.options.findIndex(W=>!W.dataRef.disabled);D!==-1&&(E.activeOptionIndex=D)}let M=b===A.Specific?y:Ee({focus:b},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:D=>D.id,resolveDisabled:D=>D.dataRef.disabled});r.value=M,p.value=R??2,h.value=E.options})},selectOption(b){let y=h.value.find(E=>E.id===b);if(!y)return;let{dataRef:R}=y;O(R.value)},selectActiveOption(){if(m.activeOptionIndex.value!==null){if(m.virtual.value)O(m.virtual.value.options[m.activeOptionIndex.value]);else{let{dataRef:b}=h.value[m.activeOptionIndex.value];O(b.value)}m.goToOption(A.Specific,m.activeOptionIndex.value)}},registerOption(b,y){let R=st({id:b,dataRef:y});if(m.virtual.value){h.value.push(R);return}u&&cancelAnimationFrame(u);let E=S(M=>(M.push(R),M));r.value===null&&m.isSelected(y.value.value)&&(E.activeOptionIndex=E.options.indexOf(R)),h.value=E.options,r.value=E.activeOptionIndex,p.value=2,E.options.some(M=>!T(M.dataRef.domRef))&&(u=requestAnimationFrame(()=>{let M=S();h.value=M.options,r.value=M.activeOptionIndex}))},unregisterOption(b,y){if(f!==null&&cancelAnimationFrame(f),y&&(C.value=!0),m.virtual.value){h.value=h.value.filter(E=>E.id!==b);return}let R=S(E=>{let M=E.findIndex(D=>D.id===b);return M!==-1&&E.splice(M,1),E});h.value=R.options,r.value=R.activeOptionIndex,p.value=2},isSelected(b){return q(w.value,{0:()=>m.compare(U(m.value.value),U(b)),1:()=>U(m.value.value).some(y=>m.compare(U(y),U(b)))})},isActive(b){return r.value===m.calculateIndex(b)}};Ue([n,a,c],()=>m.closeCombobox(),g(()=>l.value===0)),Ve(lt,m),He(g(()=>q(l.value,{0:oe.Open,1:oe.Closed})));let k=g(()=>{var b;return(b=T(n))==null?void 0:b.closest("form")});return de(()=>{Y([k],()=>{if(!k.value||e.defaultValue===void 0)return;function b(){m.change(e.defaultValue)}return k.value.addEventListener("reset",b),()=>{var y;(y=k.value)==null||y.removeEventListener("reset",b)}},{immediate:!0})}),()=>{var b,y,R;let{name:E,disabled:M,form:D,...W}=e,ne={open:l.value===0,disabled:M,activeIndex:m.activeOptionIndex.value,activeOption:m.activeOptionIndex.value===null?null:m.virtual.value?m.virtual.value.options[(b=m.activeOptionIndex.value)!=null?b:0]:(R=(y=m.options.value[m.activeOptionIndex.value])==null?void 0:y.dataRef.value)!=null?R:null,value:d.value};return ve(ke,[...E!=null&&d.value!=null?ze({[E]:d.value}).map(([ie,Ie])=>ve(_e,qe({features:We.Hidden,key:ie,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:D,disabled:M,name:ie,value:Ie}))):[],le({theirProps:{...t,...Se(W,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:ne,slots:s,attrs:t,name:"Combobox"})])}}}),dl=X({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:s,slots:t,expose:o}){var l;let i=(l=e.id)!=null?l:`headlessui-combobox-button-${ce()}`,n=fe("ComboboxButton");o({el:n.buttonRef,$el:n.buttonRef});function a(h){n.disabled.value||(n.comboboxState.value===0?n.closeCombobox():(h.preventDefault(),n.openCombobox()),_(()=>{var r;return(r=T(n.inputRef))==null?void 0:r.focus({preventScroll:!0})}))}function c(h){switch(h.key){case z.ArrowDown:h.preventDefault(),h.stopPropagation(),n.comboboxState.value===1&&n.openCombobox(),_(()=>{var r;return(r=n.inputRef.value)==null?void 0:r.focus({preventScroll:!0})});return;case z.ArrowUp:h.preventDefault(),h.stopPropagation(),n.comboboxState.value===1&&(n.openCombobox(),_(()=>{n.value.value||n.goToOption(A.Last)})),_(()=>{var r;return(r=n.inputRef.value)==null?void 0:r.focus({preventScroll:!0})});return;case z.Escape:if(n.comboboxState.value!==0)return;h.preventDefault(),n.optionsRef.value&&!n.optionsPropsRef.value.static&&h.stopPropagation(),n.closeCombobox(),_(()=>{var r;return(r=n.inputRef.value)==null?void 0:r.focus({preventScroll:!0})});return}}let v=Ge(g(()=>({as:e.as,type:s.type})),n.buttonRef);return()=>{var h,r;let p={open:n.comboboxState.value===0,disabled:n.disabled.value,value:n.value.value},{...C}=e,S={ref:n.buttonRef,id:i,type:v.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(h=T(n.optionsRef))==null?void 0:h.id,"aria-expanded":n.comboboxState.value===0,"aria-labelledby":n.labelRef.value?[(r=T(n.labelRef))==null?void 0:r.id,i].join(" "):void 0,disabled:n.disabled.value===!0?!0:void 0,onKeydown:c,onClick:a};return le({ourProps:S,theirProps:C,slot:p,attrs:s,slots:t,name:"ComboboxButton"})}}}),cl=X({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:s,attrs:t,slots:o,expose:l}){var i;let n=(i=e.id)!=null?i:`headlessui-combobox-input-${ce()}`,a=fe("ComboboxInput"),c=g(()=>wt(T(a.inputRef))),v={value:!1};l({el:a.inputRef,$el:a.inputRef});function h(){a.change(null);let u=T(a.optionsRef);u&&(u.scrollTop=0),a.goToOption(A.Nothing)}let r=g(()=>{var u;let O=a.value.value;return T(a.inputRef)?typeof e.displayValue<"u"&&O!==void 0?(u=e.displayValue(O))!=null?u:"":typeof O=="string"?O:"":""});de(()=>{Y([r,a.comboboxState,c],([u,O],[I,m])=>{if(v.value)return;let k=T(a.inputRef);k&&((m===0&&O===1||u!==I)&&(k.value=u),requestAnimationFrame(()=>{var b;if(v.value||!k||((b=c.value)==null?void 0:b.activeElement)!==k)return;let{selectionStart:y,selectionEnd:R}=k;Math.abs((R??0)-(y??0))===0&&y===0&&k.setSelectionRange(k.value.length,k.value.length)}))},{immediate:!0}),Y([a.comboboxState],([u],[O])=>{if(u===0&&O===1){if(v.value)return;let I=T(a.inputRef);if(!I)return;let m=I.value,{selectionStart:k,selectionEnd:b,selectionDirection:y}=I;I.value="",I.value=m,y!==null?I.setSelectionRange(k,b,y):I.setSelectionRange(k,b)}})});let p=V(!1);function C(){p.value=!0}function S(){Te().nextFrame(()=>{p.value=!1})}let w=ll();function P(u){switch(v.value=!0,w(()=>{v.value=!1}),u.key){case z.Enter:if(v.value=!1,a.comboboxState.value!==0||p.value)return;if(u.preventDefault(),u.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case z.ArrowDown:return v.value=!1,u.preventDefault(),u.stopPropagation(),q(a.comboboxState.value,{0:()=>a.goToOption(A.Next),1:()=>a.openCombobox()});case z.ArrowUp:return v.value=!1,u.preventDefault(),u.stopPropagation(),q(a.comboboxState.value,{0:()=>a.goToOption(A.Previous),1:()=>{a.openCombobox(),_(()=>{a.value.value||a.goToOption(A.Last)})}});case z.Home:if(u.shiftKey)break;return v.value=!1,u.preventDefault(),u.stopPropagation(),a.goToOption(A.First);case z.PageUp:return v.value=!1,u.preventDefault(),u.stopPropagation(),a.goToOption(A.First);case z.End:if(u.shiftKey)break;return v.value=!1,u.preventDefault(),u.stopPropagation(),a.goToOption(A.Last);case z.PageDown:return v.value=!1,u.preventDefault(),u.stopPropagation(),a.goToOption(A.Last);case z.Escape:if(v.value=!1,a.comboboxState.value!==0)return;u.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&u.stopPropagation(),a.nullable.value&&a.mode.value===0&&a.value.value===null&&h(),a.closeCombobox();break;case z.Tab:if(v.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.activationTrigger.value!==1&&a.selectActiveOption(),a.closeCombobox();break}}function $(u){s("change",u),a.nullable.value&&a.mode.value===0&&u.target.value===""&&h(),a.openCombobox()}function x(u){var O,I,m;let k=(O=u.relatedTarget)!=null?O:Be.find(b=>b!==u.currentTarget);if(v.value=!1,!((I=T(a.optionsRef))!=null&&I.contains(k))&&!((m=T(a.buttonRef))!=null&&m.contains(k))&&a.comboboxState.value===0)return u.preventDefault(),a.mode.value===0&&(a.nullable.value&&a.value.value===null?h():a.activationTrigger.value!==1&&a.selectActiveOption()),a.closeCombobox()}function d(u){var O,I,m;let k=(O=u.relatedTarget)!=null?O:Be.find(b=>b!==u.currentTarget);(I=T(a.buttonRef))!=null&&I.contains(k)||(m=T(a.optionsRef))!=null&&m.contains(k)||a.disabled.value||a.immediate.value&&a.comboboxState.value!==0&&(a.openCombobox(),Te().nextFrame(()=>{a.setActivationTrigger(1)}))}let f=g(()=>{var u,O,I,m;return(m=(I=(O=e.defaultValue)!=null?O:a.defaultValue.value!==void 0?(u=e.displayValue)==null?void 0:u.call(e,a.defaultValue.value):null)!=null?I:a.defaultValue.value)!=null?m:""});return()=>{var u,O,I,m,k,b,y;let R={open:a.comboboxState.value===0},{displayValue:E,onChange:M,...D}=e,W={"aria-controls":(u=a.optionsRef.value)==null?void 0:u.id,"aria-expanded":a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null?void 0:a.virtual.value?(O=a.options.value.find(ne=>!a.virtual.value.disabled(ne.dataRef.value)&&a.compare(ne.dataRef.value,a.virtual.value.options[a.activeOptionIndex.value])))==null?void 0:O.id:(I=a.options.value[a.activeOptionIndex.value])==null?void 0:I.id,"aria-labelledby":(b=(m=T(a.labelRef))==null?void 0:m.id)!=null?b:(k=T(a.buttonRef))==null?void 0:k.id,"aria-autocomplete":"list",id:n,onCompositionstart:C,onCompositionend:S,onKeydown:P,onInput:$,onFocus:d,onBlur:x,role:"combobox",type:(y=t.type)!=null?y:"text",tabIndex:0,ref:a.inputRef,defaultValue:f.value,disabled:a.disabled.value===!0?!0:void 0};return le({ourProps:W,theirProps:D,slot:R,attrs:t,slots:o,features:pe.RenderStrategy|pe.Static,name:"ComboboxInput"})}}}),vl=X({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:s,slots:t,expose:o}){let l=fe("ComboboxOptions"),i=`headlessui-combobox-options-${ce()}`;o({el:l.optionsRef,$el:l.optionsRef}),ge(()=>{l.optionsPropsRef.value.static=e.static}),ge(()=>{l.optionsPropsRef.value.hold=e.hold});let n=Ke(),a=g(()=>n!==null?(n.value&oe.Open)===oe.Open:l.comboboxState.value===0);Vt({container:g(()=>T(l.optionsRef)),enabled:g(()=>l.comboboxState.value===0),accept(v){return v.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});function c(v){v.preventDefault()}return()=>{var v,h,r;let p={open:l.comboboxState.value===0},C={"aria-labelledby":(r=(v=T(l.labelRef))==null?void 0:v.id)!=null?r:(h=T(l.buttonRef))==null?void 0:h.id,id:i,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0,onMousedown:c},S=Se(e,["hold"]);return le({ourProps:C,theirProps:S,slot:p,attrs:s,slots:l.virtual.value&&l.comboboxState.value===0?{...t,default:()=>[ve(sl,{},t.default)]}:t,features:pe.RenderStrategy|pe.Static,visible:a.value,name:"ComboboxOptions"})}}}),pl=X({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:s,attrs:t,expose:o}){let l=fe("ComboboxOption"),i=`headlessui-combobox-option-${ce()}`,n=V(null),a=g(()=>e.disabled);o({el:n,$el:n});let c=g(()=>{var x;return l.virtual.value?l.activeOptionIndex.value===l.calculateIndex(e.value):l.activeOptionIndex.value===null?!1:((x=l.options.value[l.activeOptionIndex.value])==null?void 0:x.id)===i}),v=g(()=>l.isSelected(e.value)),h=Ae(nt,null),r=g(()=>({disabled:e.disabled,value:e.value,domRef:n,order:g(()=>e.order)}));de(()=>l.registerOption(i,r)),$e(()=>l.unregisterOption(i,c.value)),ge(()=>{let x=T(n);x&&(h==null||h.value.measureElement(x))}),ge(()=>{l.comboboxState.value===0&&c.value&&(l.virtual.value||l.activationTrigger.value!==0&&_(()=>{var x,d;return(d=(x=T(n))==null?void 0:x.scrollIntoView)==null?void 0:d.call(x,{block:"nearest"})}))});function p(x){x.preventDefault(),x.button===Ze.Left&&(a.value||(l.selectOption(i),Mt()||requestAnimationFrame(()=>{var d;return(d=T(l.inputRef))==null?void 0:d.focus({preventScroll:!0})}),l.mode.value===0&&l.closeCombobox()))}function C(){var x;if(e.disabled||(x=l.virtual.value)!=null&&x.disabled(e.value))return l.goToOption(A.Nothing);let d=l.calculateIndex(e.value);l.goToOption(A.Specific,d)}let S=Qe();function w(x){S.update(x)}function P(x){var d;if(!S.wasMoved(x)||e.disabled||(d=l.virtual.value)!=null&&d.disabled(e.value)||c.value)return;let f=l.calculateIndex(e.value);l.goToOption(A.Specific,f,0)}function $(x){var d;S.wasMoved(x)&&(e.disabled||(d=l.virtual.value)!=null&&d.disabled(e.value)||c.value&&(l.optionsPropsRef.value.hold||l.goToOption(A.Nothing)))}return()=>{let{disabled:x}=e,d={active:c.value,selected:v.value,disabled:x},f={id:i,ref:n,role:"option",tabIndex:x===!0?void 0:-1,"aria-disabled":x===!0?!0:void 0,"aria-selected":v.value,disabled:void 0,onMousedown:p,onFocus:C,onPointerenter:w,onMouseenter:w,onPointermove:P,onMousemove:P,onPointerleave:$,onMouseleave:$},u=Se(e,["order","value"]);return le({ourProps:f,theirProps:u,slot:d,attrs:t,slots:s,name:"ComboboxOption"})}}});function fl(e,s){return e===s}var ml=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ml||{}),bl=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(bl||{}),hl=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(hl||{});function gl(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let at=Symbol("ListboxContext");function xe(e){let s=Ae(at,null);if(s===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,xe),t}return s}let yl=X({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>fl},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:s,attrs:t,emit:o}){let l=V(1),i=V(null),n=V(null),a=V(null),c=V([]),v=V(""),h=V(null),r=V(1);function p(d=f=>f){let f=h.value!==null?c.value[h.value]:null,u=Je(d(c.value.slice()),I=>T(I.dataRef.domRef)),O=f?u.indexOf(f):null;return O===-1&&(O=null),{options:u,activeOptionIndex:O}}let C=g(()=>e.multiple?1:0),[S,w]=Xe(g(()=>e.modelValue),d=>o("update:modelValue",d),g(()=>e.defaultValue)),P=g(()=>S.value===void 0?q(C.value,{1:[],0:void 0}):S.value),$={listboxState:l,value:P,mode:C,compare(d,f){if(typeof e.by=="string"){let u=e.by;return(d==null?void 0:d[u])===(f==null?void 0:f[u])}return e.by(d,f)},orientation:g(()=>e.horizontal?"horizontal":"vertical"),labelRef:i,buttonRef:n,optionsRef:a,disabled:g(()=>e.disabled),options:c,searchQuery:v,activeOptionIndex:h,activationTrigger:r,closeListbox(){e.disabled||l.value!==1&&(l.value=1,h.value=null)},openListbox(){e.disabled||l.value!==0&&(l.value=0)},goToOption(d,f,u){if(e.disabled||l.value===1)return;let O=p(),I=Ee(d===A.Specific?{focus:A.Specific,id:f}:{focus:d},{resolveItems:()=>O.options,resolveActiveIndex:()=>O.activeOptionIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.disabled});v.value="",h.value=I,r.value=u??1,c.value=O.options},search(d){if(e.disabled||l.value===1)return;let f=v.value!==""?0:1;v.value+=d.toLowerCase();let u=(h.value!==null?c.value.slice(h.value+f).concat(c.value.slice(0,h.value+f)):c.value).find(I=>I.dataRef.textValue.startsWith(v.value)&&!I.dataRef.disabled),O=u?c.value.indexOf(u):-1;O===-1||O===h.value||(h.value=O,r.value=1)},clearSearch(){e.disabled||l.value!==1&&v.value!==""&&(v.value="")},registerOption(d,f){let u=p(O=>[...O,{id:d,dataRef:f}]);c.value=u.options,h.value=u.activeOptionIndex},unregisterOption(d){let f=p(u=>{let O=u.findIndex(I=>I.id===d);return O!==-1&&u.splice(O,1),u});c.value=f.options,h.value=f.activeOptionIndex,r.value=1},theirOnChange(d){e.disabled||w(d)},select(d){e.disabled||w(q(C.value,{0:()=>d,1:()=>{let f=U($.value.value).slice(),u=U(d),O=f.findIndex(I=>$.compare(u,U(I)));return O===-1?f.push(u):f.splice(O,1),f}}))}};Ue([n,a],(d,f)=>{var u;$.closeListbox(),Tt(f,Et.Loose)||(d.preventDefault(),(u=T(n))==null||u.focus())},g(()=>l.value===0)),Ve(at,$),He(g(()=>q(l.value,{0:oe.Open,1:oe.Closed})));let x=g(()=>{var d;return(d=T(n))==null?void 0:d.closest("form")});return de(()=>{Y([x],()=>{if(!x.value||e.defaultValue===void 0)return;function d(){$.theirOnChange(e.defaultValue)}return x.value.addEventListener("reset",d),()=>{var f;(f=x.value)==null||f.removeEventListener("reset",d)}},{immediate:!0})}),()=>{let{name:d,modelValue:f,disabled:u,form:O,...I}=e,m={open:l.value===0,disabled:u,value:P.value};return ve(ke,[...d!=null&&P.value!=null?ze({[d]:P.value}).map(([k,b])=>ve(_e,qe({features:We.Hidden,key:k,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:O,disabled:u,name:k,value:b}))):[],le({ourProps:{},theirProps:{...t,...Se(I,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:m,slots:s,attrs:t,name:"Listbox"})])}}}),Ol=X({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:s,slots:t,expose:o}){var l;let i=(l=e.id)!=null?l:`headlessui-listbox-button-${ce()}`,n=xe("ListboxButton");o({el:n.buttonRef,$el:n.buttonRef});function a(r){switch(r.key){case z.Space:case z.Enter:case z.ArrowDown:r.preventDefault(),n.openListbox(),_(()=>{var p;(p=T(n.optionsRef))==null||p.focus({preventScroll:!0}),n.value.value||n.goToOption(A.First)});break;case z.ArrowUp:r.preventDefault(),n.openListbox(),_(()=>{var p;(p=T(n.optionsRef))==null||p.focus({preventScroll:!0}),n.value.value||n.goToOption(A.Last)});break}}function c(r){switch(r.key){case z.Space:r.preventDefault();break}}function v(r){n.disabled.value||(n.listboxState.value===0?(n.closeListbox(),_(()=>{var p;return(p=T(n.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(r.preventDefault(),n.openListbox(),gl(()=>{var p;return(p=T(n.optionsRef))==null?void 0:p.focus({preventScroll:!0})})))}let h=Ge(g(()=>({as:e.as,type:s.type})),n.buttonRef);return()=>{var r,p;let C={open:n.listboxState.value===0,disabled:n.disabled.value,value:n.value.value},{...S}=e,w={ref:n.buttonRef,id:i,type:h.value,"aria-haspopup":"listbox","aria-controls":(r=T(n.optionsRef))==null?void 0:r.id,"aria-expanded":n.listboxState.value===0,"aria-labelledby":n.labelRef.value?[(p=T(n.labelRef))==null?void 0:p.id,i].join(" "):void 0,disabled:n.disabled.value===!0?!0:void 0,onKeydown:a,onKeyup:c,onClick:v};return le({ourProps:w,theirProps:S,slot:C,attrs:s,slots:t,name:"ListboxButton"})}}}),Sl=X({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:s,slots:t,expose:o}){var l;let i=(l=e.id)!=null?l:`headlessui-listbox-options-${ce()}`,n=xe("ListboxOptions"),a=V(null);o({el:n.optionsRef,$el:n.optionsRef});function c(r){switch(a.value&&clearTimeout(a.value),r.key){case z.Space:if(n.searchQuery.value!=="")return r.preventDefault(),r.stopPropagation(),n.search(r.key);case z.Enter:if(r.preventDefault(),r.stopPropagation(),n.activeOptionIndex.value!==null){let p=n.options.value[n.activeOptionIndex.value];n.select(p.dataRef.value)}n.mode.value===0&&(n.closeListbox(),_(()=>{var p;return(p=T(n.buttonRef))==null?void 0:p.focus({preventScroll:!0})}));break;case q(n.orientation.value,{vertical:z.ArrowDown,horizontal:z.ArrowRight}):return r.preventDefault(),r.stopPropagation(),n.goToOption(A.Next);case q(n.orientation.value,{vertical:z.ArrowUp,horizontal:z.ArrowLeft}):return r.preventDefault(),r.stopPropagation(),n.goToOption(A.Previous);case z.Home:case z.PageUp:return r.preventDefault(),r.stopPropagation(),n.goToOption(A.First);case z.End:case z.PageDown:return r.preventDefault(),r.stopPropagation(),n.goToOption(A.Last);case z.Escape:r.preventDefault(),r.stopPropagation(),n.closeListbox(),_(()=>{var p;return(p=T(n.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case z.Tab:r.preventDefault(),r.stopPropagation();break;default:r.key.length===1&&(n.search(r.key),a.value=setTimeout(()=>n.clearSearch(),350));break}}let v=Ke(),h=g(()=>v!==null?(v.value&oe.Open)===oe.Open:n.listboxState.value===0);return()=>{var r,p;let C={open:n.listboxState.value===0},{...S}=e,w={"aria-activedescendant":n.activeOptionIndex.value===null||(r=n.options.value[n.activeOptionIndex.value])==null?void 0:r.id,"aria-multiselectable":n.mode.value===1?!0:void 0,"aria-labelledby":(p=T(n.buttonRef))==null?void 0:p.id,"aria-orientation":n.orientation.value,id:i,onKeydown:c,role:"listbox",tabIndex:0,ref:n.optionsRef};return le({ourProps:w,theirProps:S,slot:C,attrs:s,slots:t,features:pe.RenderStrategy|pe.Static,visible:h.value,name:"ListboxOptions"})}}}),xl=X({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:s,attrs:t,expose:o}){var l;let i=(l=e.id)!=null?l:`headlessui-listbox-option-${ce()}`,n=xe("ListboxOption"),a=V(null);o({el:a,$el:a});let c=g(()=>n.activeOptionIndex.value!==null?n.options.value[n.activeOptionIndex.value].id===i:!1),v=g(()=>q(n.mode.value,{0:()=>n.compare(U(n.value.value),U(e.value)),1:()=>U(n.value.value).some(d=>n.compare(U(d),U(e.value)))})),h=g(()=>q(n.mode.value,{1:()=>{var d;let f=U(n.value.value);return((d=n.options.value.find(u=>f.some(O=>n.compare(U(O),U(u.dataRef.value)))))==null?void 0:d.id)===i},0:()=>v.value})),r=kt(a),p=g(()=>({disabled:e.disabled,value:e.value,get textValue(){return r()},domRef:a}));de(()=>n.registerOption(i,p)),$e(()=>n.unregisterOption(i)),de(()=>{Y([n.listboxState,v],()=>{n.listboxState.value===0&&v.value&&q(n.mode.value,{1:()=>{h.value&&n.goToOption(A.Specific,i)},0:()=>{n.goToOption(A.Specific,i)}})},{immediate:!0})}),ge(()=>{n.listboxState.value===0&&c.value&&n.activationTrigger.value!==0&&_(()=>{var d,f;return(f=(d=T(a))==null?void 0:d.scrollIntoView)==null?void 0:f.call(d,{block:"nearest"})})});function C(d){if(e.disabled)return d.preventDefault();n.select(e.value),n.mode.value===0&&(n.closeListbox(),_(()=>{var f;return(f=T(n.buttonRef))==null?void 0:f.focus({preventScroll:!0})}))}function S(){if(e.disabled)return n.goToOption(A.Nothing);n.goToOption(A.Specific,i)}let w=Qe();function P(d){w.update(d)}function $(d){w.wasMoved(d)&&(e.disabled||c.value||n.goToOption(A.Specific,i,0))}function x(d){w.wasMoved(d)&&(e.disabled||c.value&&n.goToOption(A.Nothing))}return()=>{let{disabled:d}=e,f={active:c.value,selected:v.value,disabled:d},{value:u,disabled:O,...I}=e,m={id:i,ref:a,role:"option",tabIndex:d===!0?void 0:-1,"aria-disabled":d===!0?!0:void 0,"aria-selected":v.value,disabled:void 0,onClick:C,onFocus:S,onPointerenter:P,onMouseenter:P,onPointermove:$,onMousemove:$,onPointerleave:x,onMouseleave:x};return le({ourProps:m,theirProps:I,slot:f,attrs:t,slots:s,name:"ListboxOption"})}}});const Z=Fe(re.ui.strategy,re.ui.select,dt),Oe=Fe(re.ui.strategy,re.ui.selectMenu,ct),Il=X({components:{HCombobox:rl,HComboboxButton:dl,HComboboxOptions:vl,HComboboxOption:pl,HComboboxInput:cl,HListbox:yl,HListboxButton:Ol,HListboxOptions:Sl,HListboxOption:xl,UIcon:je,UAvatar:Ne},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>Z.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>Z.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>Oe.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:"Search..."},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>Oe.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:String,default:()=>Oe.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(Z.size).includes(e)}},color:{type:String,default:()=>Z.default.color,validator(e){return[...re.ui.colors,...Object.keys(Z.color)].includes(e)}},variant:{type:String,default:()=>Z.default.variant,validator(e){return[...Object.keys(Z.variant),...Object.values(Z.color).flatMap(s=>Object.keys(s))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(e,{emit:s,slots:t}){const{ui:o,attrs:l}=De("select",Re(e,"ui"),Z,Re(e,"class")),{ui:i}=De("selectMenu",Re(e,"uiMenu"),Oe),n=g(()=>pt({},e.popper,i.value.popper)),[a,c]=At(n.value),{size:v,rounded:h}=ft({ui:o,props:e}),{emitFormBlur:r,emitFormChange:p,inputId:C,color:S,size:w,name:P}=zt(e,Z),$=g(()=>v.value||w.value),x=V(""),d=g({get(){return e.query??x.value},set(L){x.value=L,s("update:query",L)}}),f=g(()=>{if(e.multiple)return Array.isArray(e.modelValue)&&e.modelValue.length?`${e.modelValue.length} selected`:null;if(e.modelValue!==void 0&&e.modelValue!==null)if(e.valueAttribute){const L=e.options.find(Q=>Q[e.valueAttribute]===e.modelValue);return L?L[e.optionAttribute]:null}else return["string","number"].includes(typeof e.modelValue)?e.modelValue:e.modelValue[e.optionAttribute];return null}),u=g(()=>{var Q,ye;const L=((ye=(Q=o.value.color)==null?void 0:Q[S.value])==null?void 0:ye[e.variant])||o.value.variant[e.variant];return mt(me(o.value.base,i.value.select,h.value,o.value.size[$.value],o.value.gap[$.value],e.padded?o.value.padding[$.value]:"p-0",L==null?void 0:L.replaceAll("{color}",S.value),(O.value||t.leading)&&o.value.leading.padding[$.value],(I.value||t.trailing)&&o.value.trailing.padding[$.value]),e.placeholder&&e.modelValue===void 0&&e.modelValue===null&&o.value.placeholder,e.selectClass)}),O=g(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),I=g(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),m=g(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),k=g(()=>e.loading&&!O.value?e.loadingIcon:e.trailingIcon||e.icon),b=g(()=>me(o.value.icon.leading.wrapper,o.value.icon.leading.pointer,o.value.icon.leading.padding[$.value])),y=g(()=>me(o.value.icon.base,S.value&&re.ui.colors.includes(S.value)&&o.value.icon.color.replaceAll("{color}",S.value),o.value.icon.size[$.value],e.loading&&o.value.icon.loading)),R=g(()=>me(o.value.icon.trailing.wrapper,o.value.icon.trailing.pointer,o.value.icon.trailing.padding[$.value])),E=g(()=>me(o.value.icon.base,S.value&&re.ui.colors.includes(S.value)&&o.value.icon.color.replaceAll("{color}",S.value),o.value.icon.size[$.value],e.loading&&!O.value&&o.value.icon.loading)),M=typeof e.searchable=="function"?bt(e.searchable,e.debounce):void 0,D=ht(async()=>e.searchable&&M?await M(d.value):d.value===""?e.options:e.options.filter(L=>{var Q;return((Q=e.searchAttributes)!=null&&Q.length?e.searchAttributes:[e.optionAttribute]).some(ye=>{if(["string","number"].includes(typeof L))return String(L).search(new RegExp(d.value,"i"))!==-1;const Ce=gt(L,ye);return Ce!=null&&String(Ce).search(new RegExp(d.value,"i"))!==-1})}),[],{lazy:e.searchableLazy}),W=g(()=>d.value===""||e.showCreateOptionWhen==="empty"&&D.value.length||e.showCreateOptionWhen==="always"&&D.value.find(Q=>["string","number"].includes(typeof Q)?Q===d.value:Q[e.optionAttribute]===d.value)?null:["string","number"].includes(typeof e.modelValue)?d.value:{[e.optionAttribute]:d.value});function ne(){e.clearSearchOnClose&&(d.value="")}Y(c,L=>{L?s("open"):(ne(),s("close"),r())});function ie(L){s("update:modelValue",L),s("change",L),p()}function Ie(L){d.value=L.target.value}return $t(()=>Rt("$YMH7mn4R4k")),{ui:o,uiMenu:i,attrs:l,name:P,inputId:C,popper:n,trigger:a,container:c,label:f,isLeading:O,isTrailing:I,selectClass:u,leadingIconName:m,leadingIconClass:y,leadingWrapperIconClass:b,trailingIconName:k,trailingIconClass:E,trailingWrapperIconClass:R,filteredOptions:D,createOption:W,query:d,onUpdate:ie,onQueryChange:Ie}}}),Cl=["value","required"],Rl=["id","disabled"],wl={class:"truncate"};function Ml(e,s,t,o,l,i){const n=je,a=yt("HComboboxInput"),c=Ne;return F(),te(be(e.searchable?"HCombobox":"HListbox"),{by:e.by,name:e.name,"model-value":e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:B(e.ui.wrapper),"onUpdate:modelValue":e.onUpdate},{default:G(({open:v})=>[e.required?(F(),K("input",{key:0,value:e.modelValue,required:e.required,class:B(e.uiMenu.required),tabindex:"-1","aria-hidden":"true"},null,10,Cl)):ee("",!0),(F(),te(be(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:B(e.uiMenu.trigger)},{default:G(()=>[ae(e.$slots,"default",{open:v,disabled:e.disabled,loading:e.loading},()=>[j("button",we({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(F(),K("span",{key:0,class:B(e.leadingWrapperIconClass)},[ae(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[J(n,{name:e.leadingIconName,class:B(e.leadingIconClass)},null,8,["name","class"])])],2)):ee("",!0),ae(e.$slots,"label",{},()=>[e.label?(F(),K("span",{key:0,class:B(e.uiMenu.label)},H(e.label),3)):(F(),K("span",{key:1,class:B(e.uiMenu.label)},H(e.placeholder||" "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(F(),K("span",{key:1,class:B(e.trailingWrapperIconClass)},[ae(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[J(n,{name:e.trailingIconName,class:B(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):ee("",!0)],16,Rl)])]),_:2},1032,["class"])),v?(F(),K("div",{key:1,ref:"container",class:B([e.uiMenu.container,e.uiMenu.width])},[J(Ot,we({appear:""},e.uiMenu.transition),{default:G(()=>[j("div",null,[e.popper.arrow?(F(),K("div",{key:0,"data-popper-arrow":"",class:B(Object.values(e.uiMenu.arrow))},null,2)):ee("",!0),(F(),te(be(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:B([e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height])},{default:G(()=>{var h,r;return[e.searchable?(F(),te(a,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:B(e.uiMenu.input),onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):ee("",!0),(F(!0),K(ke,null,St(e.filteredOptions,(p,C)=>(F(),te(be(e.searchable?"HComboboxOption":"HListboxOption"),{key:C,as:"template",value:e.valueAttribute?p[e.valueAttribute]:p,disabled:p.disabled},{default:G(({active:S,selected:w,disabled:P})=>[j("li",{class:B([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,S?e.uiMenu.option.active:e.uiMenu.option.inactive,w&&e.uiMenu.option.selected,P&&e.uiMenu.option.disabled])},[j("div",{class:B(e.uiMenu.option.container)},[ae(e.$slots,"option",{option:p,active:S,selected:w},()=>[p.icon?(F(),te(n,{key:0,name:p.icon,class:B([e.uiMenu.option.icon.base,S?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,p.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):p.avatar?(F(),te(c,we({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...p.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):p.chip?(F(),K("span",{key:2,class:B(e.uiMenu.option.chip.base),style:xt({background:`#${p.chip}`})},null,6)):ee("",!0),j("span",wl,H(["string","number"].includes(typeof p)?p:p[e.optionAttribute]),1)])],2),w?(F(),K("span",{key:0,class:B([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])},[J(n,{name:e.selectedIcon,class:B(e.uiMenu.option.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])],2)):ee("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(F(),te(be(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:G(({active:p,selected:C})=>[j("li",{class:B([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,p?e.uiMenu.option.active:e.uiMenu.option.inactive])},[j("div",{class:B(e.uiMenu.option.container)},[ae(e.$slots,"option-create",{option:e.createOption,active:p,selected:C},()=>[j("span",{class:B(e.uiMenu.option.create)},'Create "'+H(e.createOption[e.optionAttribute])+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!((h=e.filteredOptions)!=null&&h.length)?(F(),K("p",{key:2,class:B(e.uiMenu.option.empty)},[ae(e.$slots,"option-empty",{query:e.query},()=>[se(' No results for "'+H(e.query)+'". ',1)])],2)):(r=e.filteredOptions)!=null&&r.length?ee("",!0):(F(),K("p",{key:3,class:B(e.uiMenu.empty)},[ae(e.$slots,"empty",{query:e.query},()=>[se(" No options. ")])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):ee("",!0)]),_:3},8,["by","name","model-value","multiple","disabled","class","onUpdate:modelValue"])}const Tl=vt(Il,[["render",Ml]]),El={class:"text-xl font-semibold leading-tight text-gray-900 dark:text-white"},$l={class:"flex items-center justify-between gap-3 px-4 py-3"},Vl={class:"flex items-center justify-between w-full px-4 py-3"},kl={class:"flex items-center gap-1.5"},Al={class:"text-sm leading-5"},zl={class:"flex gap-1.5 items-center"},Pl={class:"flex flex-wrap items-center justify-between"},Dl={class:"text-sm leading-5"},Bl={class:"font-medium"},Ll={class:"font-medium"},Fl={class:"font-medium"},Zl={__name:"applied",setup(e){const{t:s}=It(),t=[{key:"id",label:"#",sortable:!0},{key:"title",label:s("TITLE"),sortable:!0},{key:"completed",label:s("STATUS"),sortable:!1}],o=V(t),l=g(()=>t.filter(f=>o.value.includes(f))),i=V([]);function n(f){const u=i.value.findIndex(O=>O.id===f.id);u===-1?i.value.push(f):i.value.splice(u,1)}const a=[{key:"applied",label:s("APPLIED"),value:!0}],c=V(""),v=V([]),h=V(!1),r=V([]),p=g(()=>{var f,u;return((f=v.value)==null?void 0:f.length)===0?"":((u=v==null?void 0:v.value)==null?void 0:u.length)>1?`?completed=${v.value[0].value}&completed=${v.value[1].value}`:`?completed=${v.value[0].value}`});jt(),g(()=>JSON.parse(localStorage.getItem("user")));const C=V({column:"id",direction:"asc"}),S=V(1),w=V(10),P=V(200),$=g(()=>(S.value-1)*w.value+1),x=g(()=>Math.min(S.value*w.value,P.value));Y([S,w,C,c],()=>{d()}),de(()=>{d()});const d=async()=>{try{h.value=!0;const f=await Nt(`/users/jobs${p.value}`,{query:{q:c.value,page:S.value,per_page:w.value,sort:C.value.column,order:C.value.direction}});P.value=f.meta.total,r.value=f.data}catch(f){console.error(s("ERROR_FETCHING_JOBS")+":",f)}finally{h.value=!1}};return(f,u)=>{const O=ot,I=Tl,m=Pt,k=Ct,b=Dt,y=Bt,R=Lt,E=Ft;return F(),te(E,{class:"w-full",ui:{base:"",ring:"",divide:"divide-y divide-gray-200 dark:divide-gray-700",header:{padding:"px-4 py-5"},body:{padding:"",base:"divide-y divide-gray-200 dark:divide-gray-700"},footer:{padding:"p-4"}}},{header:G(()=>[j("h2",El,H(f.$t("APPLIED_JOBS")),1)]),footer:G(()=>[j("div",Pl,[j("div",null,[j("span",Dl,[se(H(f.$t("SHOWING"))+" ",1),j("span",Bl,H(N($)),1),se(" "+H(f.$t("TO"))+" ",1),j("span",Ll,H(N(x)),1),se(" "+H(f.$t("OF"))+" ",1),j("span",Fl,H(N(P)),1),se(" "+H(f.$t("ENTRIES")),1)])]),J(R,{modelValue:N(S),"onUpdate:modelValue":u[6]||(u[6]=M=>ue(S)?S.value=M:null),"page-count":N(w),total:N(P),ui:{wrapper:"flex items-center gap-1",rounded:"!rounded-full min-w-[32px] justify-center",default:{activeButton:{variant:"outline",color:"indigo"}}}},null,8,["modelValue","page-count","total"])])]),default:G(()=>[j("div",$l,[J(O,{modelValue:N(c),"onUpdate:modelValue":u[0]||(u[0]=M=>ue(c)?c.value=M:null),icon:"i-heroicons-magnifying-glass-20-solid",color:"indigo",placeholder:"Search..."},null,8,["modelValue"]),J(I,{modelValue:N(v),"onUpdate:modelValue":u[1]||(u[1]=M=>ue(v)?v.value=M:null),options:a,multiple:"",color:"indigo",placeholder:"Status",class:"w-40"},null,8,["modelValue"])]),j("div",Vl,[j("div",kl,[j("span",Al,H(f.$t("ROWS_PER_PAGE"))+":",1),J(m,{modelValue:N(w),"onUpdate:modelValue":u[2]||(u[2]=M=>ue(w)?w.value=M:null),options:[3,5,10,20,30,40],color:"indigo",class:"w-20 me-2",size:"xs"},null,8,["modelValue"])]),j("div",zl,[J(I,{modelValue:N(o),"onUpdate:modelValue":u[3]||(u[3]=M=>ue(o)?o.value=M:null),options:t,multiple:""},{default:G(()=>[J(k,{icon:"i-heroicons-view-columns",color:"indigo",size:"xs"},{default:G(()=>[se(H(f.$t("COLUMNS")),1)]),_:1})]),_:1},8,["modelValue"])])]),J(y,{modelValue:N(i),"onUpdate:modelValue":u[4]||(u[4]=M=>ue(i)?i.value=M:null),sort:N(C),"onUpdate:sort":u[5]||(u[5]=M=>ue(C)?C.value=M:null),rows:N(r),columns:N(l),loading:N(h),"sort-asc-icon":"i-heroicons-arrow-up","sort-desc-icon":"i-heroicons-arrow-down","sort-mode":"manual",class:"w-full",ui:{td:{base:"max-w-[0] truncate"},default:{checkbox:{color:"indigo"}}},onSelect:n},{"completed-data":G(({})=>[J(b,{size:"xs",label:f.$t("APPLIED"),color:"emerald",variant:"subtle"},null,8,["label"])]),_:1},8,["modelValue","sort","rows","columns","loading"])]),_:1})}}};export{Zl as default};
