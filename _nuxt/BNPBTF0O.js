import{_ as I,a as R}from"./Bd5LXExb.js";import{C as L,z as J,o as t,c as u,a as o,m as w,d as k,t as l,b as g,H as E,y as N,_ as B,v as q,g as F,r as _,D as H,l as C,I as M,F as O,x as V,n as $,J as S}from"./kdAhNwHO.js";import{u as U,a as z}from"./ClG_xFxp.js";import{_ as T}from"./m_3wqk_f.js";import{a as G}from"./tbsHI8AM.js";import"./CUkUf-Eb.js";import"./DEGlgFew.js";import"./CWiyuLd3.js";import"./KGPkn7PA.js";import"./KSuANZui.js";import"./CF4rAsWm.js";import"./BUng2X7a.js";import"./s_Ntn6Xx.js";const P={class:"flex mb-2 place-items-center"},Y={class:"flex gap-2 pr-3 text-sm font-thin place-items-center"},A=["src"],K={class:"flex items-center gap-1 text-sm font-thin"},Q={class:"font-semibold"},W={class:"flex justify-between"},X={class:"truncate"},Z={__name:"JobsList",props:{job:Object,loading:Boolean,error:String,selectedJob:Object},emits:["selectJob"],setup(e,{emit:i}){const s=e,y=i,n=N(),d=U(),{isMobile:b,isDesktop:a}=z(),c=L(),m=v=>v+".0",p=J(()=>d.preference==="light"?"#000000":"#ffffff"),r=J(()=>n.public.apiBaseUrl+s.job.company.logo),f=()=>{a?y("selectJob",s.job):c.push({path:`/jobs/${s.job.id}`})};return(v,j)=>{const h=I;return t(),u("div",{class:E(["p-4 mb-2 border rounded-md cursor-pointer border-1",{"border-indigo-500":e.selectedJob===e.job}]),onClick:f},[o("div",P,[o("div",Y,[o("img",{src:w(r),alt:"company logo",class:"w-6 h-6 rounded-full"},null,8,A),k(" "+l(e.job.company.title),1)]),o("div",K,[k(l(m(e.job.company.rating))+" ",1),g(h,{class:"",color:w(p)},null,8,["color"])])]),o("p",Q,l(e.job.title),1),o("div",W,[o("small",null,l(e.job.company.location[0].state)+", "+l(e.job.company.location[0].country),1),o("small",X,l(e.job.create_dates.created_at_human),1)])],2)}}},ee={class:"container grid items-center justify-center grid-cols-1 gap-4 align-middle sm:grid-cols-2 lg:grid-cols-3 place-items-center"},oe={key:0,class:"job-list h-[85%] scrollbar-hide px-4"},te={key:2},se={class:"col-span-2 h-[85%] border border-1 rounded-md job-details border-indigo-500 relative hidden md:block"},ne={__name:"DashboardIndex",setup(e){const i=q(),{t:s,localePath:y}=F(),n=_([]),d=_(""),b=_(1),a=_(!1),c=_(null),m=async()=>{try{a.value=!0;const{data:r}=await G("/jobs",{params:{page:b.value,q:i.query.q,location:i.query.location}});n.value=[...n.value,...r],c.value||(c.value=r[0]),b.value++}catch(r){console.error(s("ERROR_FETCHING_JOBS")+":",r)}finally{a.value=!1}};H(()=>i.params,()=>{n.value=[],b.value=1,m()},{immediate:!0});const p=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight&&!a.value&&!d.value&&m()};return C(()=>{window.addEventListener("scroll",p)}),M(()=>{window.removeEventListener("scroll",p)}),C(m),(r,f)=>{const v=Z,j=T,h=R;return t(),u("div",ee,[n.value.length?(t(),u("div",oe,[(t(!0),u(O,null,V(n.value,x=>(t(),$(v,{key:x.id,job:x,loading:a.value,error:d.value,selectedJob:c.value,onSelectJob:f[0]||(f[0]=D=>c.value=D)},null,8,["job","loading","error","selectedJob"]))),128))])):a.value?(t(),$(j,{key:1,class:"h-[100px] w-full mb-auto mt-16"})):S("",!0),d.value?(t(),u("p",te,l(d.value),1)):S("",!0),o("div",se,[g(h,{selectedJob:c.value},null,8,["selectedJob"])])])}}},ae=B(ne,[["__scopeId","data-v-86434d53"]]),ce={},re={class:"mb-10"};function le(e,i){const s=ae;return t(),u("section",re,[g(s)])}const xe=B(ce,[["render",le]]);export{xe as default};
