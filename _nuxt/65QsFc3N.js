import{aq as l,s as o}from"./B3pXT-Ej.js";import{u as a}from"./Cines0cJ.js";const d=l(async(u,i)=>{var n;const e=a();if(!e.isLoggedIn)return o("/login");if(e.user){const t=((n=e.user)==null?void 0:n.role)||null,r=u.meta.role;if(r&&t!==r)return o("/unauthorized")}else return e.fetchUser().then(()=>{var s;const t=((s=e.user)==null?void 0:s.role)||null,r=u.meta.role;if(r&&t!==r)return o("/unauthorized")}).catch(()=>(e.logout(),o("/login")))});export{d as default};
