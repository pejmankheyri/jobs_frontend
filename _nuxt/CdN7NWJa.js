import{_ as U}from"./DXLt3WVc.js";import{_ as $,a as B}from"./D--87HIT.js";import{g as S,r as p,k,z as w,c as u,a as o,t as r,m as e,J as D,b as a,w as l,o as d,d as A,y as E,q as F}from"./CpACWkA_.js";import{b as O}from"./p05oGPCA.js";import{u as G}from"./D0CzO_5I.js";import"./CatMck2a.js";import"./CK2XB7Fa.js";const I={class:"container max-w-md mx-auto my-10"},T={class:"mb-4 text-2xl font-bold"},z={key:0},H=["href"],J=["src"],L={class:"pt-4"},X={__name:"cv",setup(W){const f=O(),{t:g}=S(),v=G(),s=p(!1),i=p(null),n=k({cv:void 0}),c=w(()=>JSON.parse(localStorage.getItem("user"))),h=t=>{i.value=t[0]},m=E(),b=async()=>{try{s.value=!0;const t=new FormData;t.append("cv",i.value),await f.changeCV(t,g,v)}finally{s.value=!1}};return(t,_)=>{const C=U,V=B,y=F,x=$;return d(),u("div",I,[o("h1",T,r(t.$t("CHANGE_CV")),1),e(c).cv?(d(),u("div",z,[o("a",{href:`${e(m).public.apiBaseUrl}${e(c).cv}`,target:"_blank",class:"text-indigo-600"},r(t.$t("DOWNLOAD_CV")),9,H)])):D("",!0),o("embed",{src:`${e(m).public.apiBaseUrl}${e(c).cv}`,height:"200px",width:"100%",type:"application/pdf",frameBorder:"0",scrolling:"auto"},null,8,J),a(x,{state:e(n),class:"mt-10 space-y-4",onSubmit:b},{default:l(()=>[a(V,{label:t.$t("UPLOAD_NEW_CV"),name:"cv"},{default:l(()=>[a(C,{modelValue:e(n).cv,"onUpdate:modelValue":_[0]||(_[0]=N=>e(n).cv=N),color:"indigo",type:"file",size:"sm",icon:"i-heroicons-folder",onChange:h},null,8,["modelValue"])]),_:1},8,["label"]),o("div",L,[a(y,{type:"submit",color:"indigo",loading:e(s),block:""},{default:l(()=>[A(r(t.$t("CHANGE_CV")),1)]),_:1},8,["loading"])])]),_:1},8,["state"])])}}};export{X as default};
