import{g as R,h,i as x,j as D,r as i,k as N,l as A,c as O,b as a,w as l,m as g,a as v,t as c,n as V,q as L,o as d,d as S,s as F}from"./DMVYGfwp.js";import{_ as P}from"./CAB19uPv.js";import{_ as q}from"./BtJwr7H_.js";import{_ as G,a as H}from"./DC7Zjozx.js";import{_ as M}from"./ChZklIx8.js";import{_ as J}from"./DxVXMBsk.js";import{u as Q}from"./BJF1ClTK.js";import{c as Y,a as E}from"./BqjAheMm.js";import{u as j}from"./DycNKaE_.js";import"./BGciYbmW.js";import"./BYpgZdRR.js";import"./DvjFPo4h.js";const K={class:"container max-w-md mx-auto my-10"},W={class:"mb-4 text-2xl font-bold"},z={class:"pt-4"},pe={__name:"edit",setup(X){const{t:r}=R(),_=j();h();const f=x();D();const I=Q(),m=i(!1),u=i(!1);i([]),i("");const b=Y({title:E().required(r("THIS_FIELD_IS_REQUIRED")),description:E().required(r("THIS_FIELD_IS_REQUIRED"))}),e=N({title:"",description:"",rating:0,website:"",employes:""}),T=[{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5}],w=async()=>{if(b.validateSync(e))try{m.value=!0,await _.updateCompany(e,f.params.id,r,I)}finally{m.value=!1}},U=async()=>{try{u.value=!0;const o=await _.fetchCompany(f.params.id);e.title=o.title,e.description=o.description,e.rating=o.rating,e.website=o.website,e.employes=o.employes}finally{u.value=!1}};return A(()=>{U()}),(o,t)=>{const y=L,$=P,p=q,s=H,C=M,k=J,B=G;return d(),O("div",K,[a(y,{onClick:t[0]||(t[0]=n=>("navigateTo"in o?o.navigateTo:g(F))(o.localePath({name:"company-list"}))),color:"indigo",variant:"outline",icon:"i-heroicons-arrow-left",class:"mb-4"},{default:l(()=>[S(c(o.$t("BACK")),1)]),_:1}),v("h1",W,c(o.$t("EDIT_COMPANY")),1),u.value?(d(),V($,{key:0,class:"h-[100px] w-full mb-auto mt-16"})):(d(),V(B,{key:1,schema:g(b),state:e,class:"space-y-4",onSubmit:w},{default:l(()=>[a(s,{label:o.$t("JOB_TITLE"),name:"title"},{default:l(()=>[a(p,{modelValue:e.title,"onUpdate:modelValue":t[1]||(t[1]=n=>e.title=n),icon:"i-heroicons-briefcase",color:"indigo"},null,8,["modelValue"])]),_:1},8,["label"]),a(s,{label:o.$t("JOB_DESCRIPTION"),name:"description"},{default:l(()=>[a(C,{modelValue:e.description,"onUpdate:modelValue":t[2]||(t[2]=n=>e.description=n),icon:"i-heroicons-document-text",color:"indigo"},null,8,["modelValue"])]),_:1},8,["label"]),a(s,{label:o.$t("RATING"),name:"rating"},{default:l(()=>[a(k,{modelValue:e.rating,"onUpdate:modelValue":t[3]||(t[3]=n=>e.rating=n),color:"indigo",options:T},null,8,["modelValue"])]),_:1},8,["label"]),a(s,{label:o.$t("WEBSITE"),name:"website"},{default:l(()=>[a(p,{modelValue:e.website,"onUpdate:modelValue":t[4]||(t[4]=n=>e.website=n),icon:"i-heroicons-cursor-arrow-ripple",color:"indigo"},null,8,["modelValue"])]),_:1},8,["label"]),a(s,{label:o.$t("EMPLOYEES"),name:"employes"},{default:l(()=>[a(p,{modelValue:e.employes,"onUpdate:modelValue":t[5]||(t[5]=n=>e.employes=n),icon:"i-heroicons-users",color:"indigo"},null,8,["modelValue"])]),_:1},8,["label"]),v("div",z,[a(y,{type:"submit",color:"indigo",loading:m.value,block:""},{default:l(()=>[S(c(o.$t("SAVE_CHANGES")),1)]),_:1},8,["loading"])])]),_:1},8,["schema","state"]))])}}};export{pe as default};
