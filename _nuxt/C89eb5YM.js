import{g as S,h as U,j as B,i as O,r as c,z as h,l as $,c as d,b as n,w as t,m,q as I,o as p,d as i,t as s,s as V,a as _,F as L,x as M,y as P,A as j}from"./iOswF-Mh.js";import{_ as D}from"./DIwFfl-4.js";import{_ as F}from"./Bn7fgaZ6.js";import{_ as J}from"./DCwMnxWF.js";import{u as z,a as G}from"./DAxEYscs.js";import"./DGrgjupq.js";import"./DLKrJgIg.js";import"./ClcGhuih.js";const H={class:""},q={class:"text-xl font-semibold leading-tight text-gray-900 dark:text-white"},K=["href"],se={__name:"applications",setup(W){const{t:o}=S();z();const b=P();U(),B();const g=O(),f=c({column:"id",direction:"asc"}),y=[{key:"id",label:"#",sortable:!0},{key:"useravatar",label:o("AVATAR"),sortable:!1},{key:"message",label:o("MESSAGE"),sortable:!0},{key:"username",label:o("NAME"),sortable:!0},{key:"useremail",label:o("EMAIL"),sortable:!0},{key:"userphone",label:o("PHONE"),sortable:!1},{key:"create_dates",label:o("CREATED_AT"),sortable:!0},{key:"usercv",label:o("CV"),sortable:!0}],A=c(y),k=h(()=>y.filter(a=>A.value.includes(a))),u=c(!1),v=c([]);h(()=>JSON.parse(localStorage.getItem("user"))),$(()=>{x()});const x=async()=>{try{u.value=!0;const a=await G(`/jobs/${g.params.jobid}/applicants`,{});v.value=a.data}catch(a){console.error(o("ERROR_FETCHING_COMPANIES")+":",a)}finally{u.value=!1}},w=a=>b.public.apiBaseUrl+a;return(a,l)=>{const C=I,T=D,E=j,N=F,R=J;return p(),d("div",H,[n(C,{onClick:l[0]||(l[0]=e=>("navigateTo"in a?a.navigateTo:m(V))(a.localePath({name:"company-id-jobs",params:{id:m(g).params.id}}))),color:"indigo",variant:"outline",icon:"i-heroicons-arrow-left",class:"mt-8"},{default:t(()=>[i(s(a.$t("BACK")),1)]),_:1}),n(R,{class:"w-full",ui:{base:"",ring:"",divide:"divide-y divide-gray-200 dark:divide-gray-700",header:{padding:"px-4 py-5"},body:{padding:"",base:"divide-y divide-gray-200 dark:divide-gray-700"},footer:{padding:"p-4"}}},{header:t(()=>[_("h2",q,s(a.$t("JOBS_APPLICATIONS")),1)]),default:t(()=>[n(N,{sort:f.value,"onUpdate:sort":l[1]||(l[1]=e=>f.value=e),rows:v.value,columns:k.value,loading:u.value,"sort-asc-icon":"i-heroicons-arrow-up","sort-desc-icon":"i-heroicons-arrow-down","sort-mode":"manual",class:"w-full",ui:{td:{base:"max-w-[0] truncate"},default:{checkbox:{color:"indigo"}}}},{"location-data":t(({row:e})=>[(p(!0),d(L,null,M(e.location,r=>(p(),d("div",{key:r.id},[n(T,{text:r.country+","+r.state+","+r.city},{default:t(()=>[_("span",null,s(r.country+","+r.state+","+r.city),1)]),_:2},1032,["text"])]))),128))]),"useravatar-data":t(({row:e})=>[n(E,{src:w(e.user.avatar),size:"md"},null,8,["src"])]),"username-data":t(({row:e})=>[i(s(e.user.name),1)]),"useremail-data":t(({row:e})=>[i(s(e.user.email),1)]),"userphone-data":t(({row:e})=>[i(s(e.user.phone),1)]),"create_dates-data":t(({row:e})=>[i(s(e.create_dates.created_at_human),1)]),"usercv-data":t(({row:e})=>[_("a",{href:`${m(b).public.apiBaseUrl}${e.user.cv}`,target:"_blank",class:"text-indigo-600"},s(a.$t("DOWNLOAD_CV")),9,K)]),_:1},8,["sort","rows","columns","loading"])]),_:1})])}}};export{se as default};
